/**
 * workerpool.js
 * https://github.com/josdejong/workerpool
 *
 * Offload tasks to a pool of workers on node.js and in the browser.
 *
 * @version 6.2.1
 * @date    2022-04-11
 *
 * @license
 * Copyright (C) 2014-2022 Jos de Jong <wjosdejong@gmail.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */(function(o,r){console.log("Executing FunctionExpression webpackUniversalModuleDefinition from file CompiledWorker.js at line 26"),typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define("workerpool",[],r):typeof exports=="object"?exports.workerpool=r():o.workerpool=r()})(typeof self<"u"?self:this,function(){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 35"),function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 36");var __webpack_modules__={345:function(e,o,r){console.log("Executing FunctionExpression from file CompiledWorker.js at line 40");var l=r(219),g=r(751),m=r(828),k=r(833),f=new k;function p(t,i){console.log("Executing FunctionDeclaration Pool from file CompiledWorker.js at line 58"),typeof t=="string"?this.script=t||null:(this.script=null,i=t),this.workers=[],this.tasks=[],i=i||{},this.forkArgs=Object.freeze(i.forkArgs||[]),this.forkOpts=Object.freeze(i.forkOpts||{}),this.debugPortStart=i.debugPortStart||43210,this.nodeWorker=i.nodeWorker,this.workerType=i.workerType||i.nodeWorker||"auto",this.maxQueueSize=i.maxQueueSize||1/0,this.onCreateWorker=i.onCreateWorker||function(){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 78"),null},this.onTerminateWorker=i.onTerminateWorker||function(){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 82"),null},i&&"maxWorkers"in i?(h(i.maxWorkers),this.maxWorkers=i.maxWorkers):this.maxWorkers=Math.max((m.cpus||4)-1,1),i&&"minWorkers"in i&&(i.minWorkers==="max"?this.minWorkers=this.maxWorkers:(_(i.minWorkers),this.minWorkers=i.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),this.workerType==="thread"&&g.ensureWorkerThreads()}p.prototype.exec=function(t,i,c){if(console.log("Executing FunctionExpression from file CompiledWorker.js at line 146"),i&&!Array.isArray(i))throw new TypeError('Array expected as argument "params"');if(typeof t=="string"){var a=l.defer();if(this.tasks.length>=this.maxQueueSize)throw new Error("Max queue size of "+this.maxQueueSize+" reached");var w=this.tasks,x={method:t,params:i,resolver:a,timeout:null,options:c};w.push(x);var v=a.promise.timeout;return a.promise.timeout=function(D){return console.log("Executing FunctionExpression timeout from file CompiledWorker.js at line 173"),w.indexOf(x)!==-1?(x.timeout=D,a.promise):v.call(a.promise,D)},this._next(),a.promise}else{if(typeof t=="function")return this.exec("run",[String(t),i]);throw new TypeError('Function or string expected as argument "method"')}},p.prototype.proxy=function(){if(console.log("Executing FunctionExpression from file CompiledWorker.js at line 203"),arguments.length>0)throw new Error("No arguments expected");var t=this;return this.exec("methods").then(function(i){console.log("Executing FunctionExpression from file CompiledWorker.js at line 209");var c={};return i.forEach(function(a){console.log("Executing FunctionExpression from file CompiledWorker.js at line 211"),c[a]=function(){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 212"),t.exec(a,Array.prototype.slice.call(arguments))}}),c})},p.prototype._next=function(){if(console.log("Executing FunctionExpression from file CompiledWorker.js at line 242"),this.tasks.length>0){var t=this._getWorker();if(t){var i=this,c=this.tasks.shift();if(c.resolver.promise.pending){var a=t.exec(c.method,c.params,c.resolver,c.options).then(i._boundNext).catch(function(){if(console.log("Executing FunctionExpression from file CompiledWorker.js at line 255"),t.terminated)return i._removeWorker(t)}).then(function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 260"),i._next()});typeof c.timeout=="number"&&a.timeout(c.timeout)}else i._next()}}},p.prototype._getWorker=function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 286");for(var t=this.workers,i=0;i<t.length;i++){var c=t[i];if(c.busy()===!1)return c}return t.length<this.maxWorkers?(c=this._createWorkerHandler(),t.push(c),c):null},p.prototype._removeWorker=function(t){console.log("Executing FunctionExpression from file CompiledWorker.js at line 317");var i=this;return f.releasePort(t.debugPort),this._removeWorkerFromList(t),this._ensureMinWorkers(),new l(function(c,a){console.log("Executing FunctionExpression from file CompiledWorker.js at line 327"),t.terminate(!1,function(w){console.log("Executing FunctionExpression from file CompiledWorker.js at line 328"),i.onTerminateWorker({forkArgs:t.forkArgs,forkOpts:t.forkOpts,script:t.script}),w?a(w):c(t)})})},p.prototype._removeWorkerFromList=function(t){console.log("Executing FunctionExpression from file CompiledWorker.js at line 350");var i=this.workers.indexOf(t);i!==-1&&this.workers.splice(i,1)},p.prototype.terminate=function(t,i){console.log("Executing FunctionExpression from file CompiledWorker.js at line 370");var c=this;this.tasks.forEach(function(b){console.log("Executing FunctionExpression from file CompiledWorker.js at line 373"),b.resolver.reject(new Error("Pool terminated"))}),this.tasks.length=0;var a=function(D){console.log("Executing FunctionExpression f from file CompiledWorker.js at line 378"),this._removeWorkerFromList(D)},w=a.bind(this),x=[],v=this.workers.slice();return v.forEach(function(b){console.log("Executing FunctionExpression from file CompiledWorker.js at line 385");var D=b.terminateAndNotify(t,i).then(w).always(function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 386"),c.onTerminateWorker({forkArgs:b.forkArgs,forkOpts:b.forkOpts,script:b.script})});x.push(D)}),l.all(x)},p.prototype.stats=function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 403");var t=this.workers.length,i=this.workers.filter(function(c){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 405"),c.busy()}).length;return{totalWorkers:t,busyWorkers:i,idleWorkers:t-i,pendingTasks:this.tasks.length,activeTasks:i}},p.prototype._ensureMinWorkers=function(){if(console.log("Executing FunctionExpression from file CompiledWorker.js at line 422"),this.minWorkers)for(var t=this.workers.length;t<this.minWorkers;t++)this.workers.push(this._createWorkerHandler())},p.prototype._createWorkerHandler=function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 436");var t=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,script:this.script})||{};return new g(t.script||this.script,{forkArgs:t.forkArgs||this.forkArgs,forkOpts:t.forkOpts||this.forkOpts,debugPort:f.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType})};function h(t){if(console.log("Executing FunctionDeclaration validateMaxWorkers from file CompiledWorker.js at line 456"),!C(t)||!W(t)||t<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}function _(t){if(console.log("Executing FunctionDeclaration validateMinWorkers from file CompiledWorker.js at line 468"),!C(t)||!W(t)||t<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}function C(t){return console.log("Executing FunctionDeclaration isNumber from file CompiledWorker.js at line 480"),typeof t=="number"}function W(t){return console.log("Executing FunctionDeclaration isInteger from file CompiledWorker.js at line 490"),Math.round(t)==t}e.exports=p},219:function(e){console.log("Executing FunctionExpression from file CompiledWorker.js at line 499");function o(m,k){console.log("Executing FunctionDeclaration Promise from file CompiledWorker.js at line 512");var f=this;if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(typeof m!="function")throw new SyntaxError("Function parameter handler(resolve, reject) missing");var p=[],h=[];this.resolved=!1,this.rejected=!1,this.pending=!0;var _=function(i,c){console.log("Executing FunctionExpression _process from file CompiledWorker.js at line 537"),p.push(i),h.push(c)};this.then=function(t,i){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 550"),new o(function(c,a){console.log("Executing FunctionExpression from file CompiledWorker.js at line 551");var w=t?r(t,c,a):c,x=i?r(i,c,a):a;_(w,x)},f)};var C=function(i){return console.log("Executing FunctionExpression _resolve from file CompiledWorker.js at line 565"),f.resolved=!0,f.rejected=!1,f.pending=!1,p.forEach(function(c){console.log("Executing FunctionExpression from file CompiledWorker.js at line 571"),c(i)}),_=function(a,w){console.log("Executing FunctionExpression _process from file CompiledWorker.js at line 575"),a(i)},C=W=function(){console.log("Executing FunctionExpression _reject from file CompiledWorker.js at line 579")},f},W=function(i){return console.log("Executing FunctionExpression _reject from file CompiledWorker.js at line 590"),f.resolved=!1,f.rejected=!0,f.pending=!1,h.forEach(function(c){console.log("Executing FunctionExpression from file CompiledWorker.js at line 596"),c(i)}),_=function(a,w){console.log("Executing FunctionExpression _process from file CompiledWorker.js at line 600"),w(i)},C=W=function(){console.log("Executing FunctionExpression _reject from file CompiledWorker.js at line 604")},f};this.cancel=function(){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 614"),k?k.cancel():W(new l),f},this.timeout=function(t){if(console.log("Executing FunctionExpression from file CompiledWorker.js at line 632"),k)k.timeout(t);else{var i=setTimeout(function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 636"),W(new g("Promise timed out after "+t+" ms"))},t);f.always(function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 639"),clearTimeout(i)})}return f},m(function(t){console.log("Executing FunctionExpression from file CompiledWorker.js at line 648"),C(t)},function(t){console.log("Executing FunctionExpression from file CompiledWorker.js at line 650"),W(t)})}function r(m,k,f){return console.log("Executing FunctionDeclaration _then from file CompiledWorker.js at line 664"),function(p){console.log("Executing FunctionExpression from file CompiledWorker.js at line 665");try{var h=m(p);h&&typeof h.then=="function"&&typeof h.catch=="function"?h.then(k,f):k(h)}catch(_){f(_)}}}o.prototype.catch=function(m){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 687"),this.then(null,m)},o.prototype.always=function(m){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 699"),this.then(m,m)},o.all=function(m){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 710"),new o(function(k,f){console.log("Executing FunctionExpression from file CompiledWorker.js at line 711");var p=m.length,h=[];p?m.forEach(function(_,C){console.log("Executing FunctionExpression from file CompiledWorker.js at line 716"),_.then(function(W){console.log("Executing FunctionExpression from file CompiledWorker.js at line 717"),h[C]=W,p--,p==0&&k(h)},function(W){console.log("Executing FunctionExpression from file CompiledWorker.js at line 724"),p=0,f(W)})}):k(h)})},o.defer=function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 740");var m={};return m.promise=new o(function(k,f){console.log("Executing FunctionExpression from file CompiledWorker.js at line 742"),m.resolve=k,m.reject=f}),m};function l(m){console.log("Executing FunctionDeclaration CancellationError from file CompiledWorker.js at line 755"),this.message=m||"promise cancelled",this.stack=new Error().stack}l.prototype=new Error,l.prototype.constructor=Error,l.prototype.name="CancellationError",o.CancellationError=l;function g(m){console.log("Executing FunctionDeclaration TimeoutError from file CompiledWorker.js at line 770"),this.message=m||"timeout exceeded",this.stack=new Error().stack}g.prototype=new Error,g.prototype.constructor=Error,g.prototype.name="TimeoutError",o.TimeoutError=g,e.exports=o},751:function(e,o,r){console.log("Executing FunctionExpression from file CompiledWorker.js at line 784");function l(s,u){console.log("Executing FunctionDeclaration _createForOfIteratorHelper from file CompiledWorker.js at line 789");var n=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!n){if(Array.isArray(s)||(n=g(s))||u&&s&&typeof s.length=="number"){n&&(s=n);var d=0,y=function(){console.log("Executing FunctionExpression F from file CompiledWorker.js at line 789")};return{s:y,n:function(){return console.log("Executing FunctionExpression n from file CompiledWorker.js at line 789"),d>=s.length?{done:!0}:{done:!1,value:s[d++]}},e:function(j){throw console.log("Executing FunctionExpression e from file CompiledWorker.js at line 789"),j},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T=!0,A=!1,E;return{s:function(){console.log("Executing FunctionExpression s from file CompiledWorker.js at line 789"),n=n.call(s)},n:function(){console.log("Executing FunctionExpression n from file CompiledWorker.js at line 789");var j=n.next();return T=j.done,j},e:function(j){console.log("Executing FunctionExpression e from file CompiledWorker.js at line 789"),A=!0,E=j},f:function(){console.log("Executing FunctionExpression f from file CompiledWorker.js at line 789");try{!T&&n.return!=null&&n.return()}finally{if(A)throw E}}}}function g(s,u){if(console.log("Executing FunctionDeclaration _unsupportedIterableToArray from file CompiledWorker.js at line 791"),!!s){if(typeof s=="string")return m(s,u);var n=Object.prototype.toString.call(s).slice(8,-1);if(n==="Object"&&s.constructor&&(n=s.constructor.name),n==="Map"||n==="Set")return Array.from(s);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(s,u)}}function m(s,u){console.log("Executing FunctionDeclaration _arrayLikeToArray from file CompiledWorker.js at line 793"),(u==null||u>s.length)&&(u=s.length);for(var n=0,d=new Array(u);n<u;n++)d[n]=s[n];return d}function k(s){return console.log("Executing FunctionDeclaration _typeof from file CompiledWorker.js at line 795"),k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 795"),typeof u}:function(u){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 795"),u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},k(s)}var f=r(219),p=r(828),h=r(397),_="__workerpool-terminate__",C=1e3;function W(){console.log("Executing FunctionDeclaration ensureWorkerThreads from file CompiledWorker.js at line 816");var s=i();if(!s)throw new Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return s}function t(){if(console.log("Executing FunctionDeclaration ensureWebWorker from file CompiledWorker.js at line 827"),typeof Worker!="function"&&((typeof Worker>"u"?"undefined":k(Worker))!=="object"||typeof Worker.prototype.constructor!="function"))throw new Error("WorkerPool: Web Workers not supported")}function i(){console.log("Executing FunctionDeclaration tryRequireWorkerThreads from file CompiledWorker.js at line 834");try{return h("worker_threads")}catch(s){if(k(s)==="object"&&s!==null&&s.code==="MODULE_NOT_FOUND")return null;throw s}}function c(){if(console.log("Executing FunctionDeclaration getDefaultWorker from file CompiledWorker.js at line 848"),p.platform==="browser"){if(typeof Blob>"u")throw new Error("Blob not supported by the browser");if(!window.URL||typeof window.URL.createObjectURL!="function")throw new Error("URL.createObjectURL not supported by the browser");var s=new Blob([r(670)],{type:"text/javascript"});return window.URL.createObjectURL(s)}else return __dirname+"/worker.js"}function a(s,u){if(console.log("Executing FunctionDeclaration setupWorker from file CompiledWorker.js at line 870"),u.workerType==="web")return t(),w(s,Worker);if(u.workerType==="thread")return n=W(),x(s,n);if(u.workerType==="process"||!u.workerType)return v(s,b(u),h("child_process"));if(p.platform==="browser")return t(),w(s,Worker);var n=i();return n?x(s,n):v(s,b(u),h("child_process"))}function w(s,u){console.log("Executing FunctionDeclaration setupBrowserWorker from file CompiledWorker.js at line 900");var n=new u(s);return n.isBrowserWorker=!0,n.on=function(d,y){console.log("Executing FunctionExpression from file CompiledWorker.js at line 905"),this.addEventListener(d,function(T){console.log("Executing FunctionExpression from file CompiledWorker.js at line 906"),y(T.data)})},n.send=function(d){console.log("Executing FunctionExpression from file CompiledWorker.js at line 911"),this.postMessage(d)},n}function x(s,u){console.log("Executing FunctionDeclaration setupWorkerThreadWorker from file CompiledWorker.js at line 918");var n=new u.Worker(s,{stdout:!1,stderr:!1});return n.isWorkerThread=!0,n.send=function(d){console.log("Executing FunctionExpression from file CompiledWorker.js at line 927"),this.postMessage(d)},n.kill=function(){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 931"),this.terminate(),!0},n.disconnect=function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 936"),this.terminate()},n}function v(s,u,n){console.log("Executing FunctionDeclaration setupProcessWorker from file CompiledWorker.js at line 943");var d=n.fork(s,u.forkArgs,u.forkOpts);return d.isChildProcess=!0,d}function b(s){console.log("Executing FunctionDeclaration resolveForkOptions from file CompiledWorker.js at line 951"),s=s||{};var u=process.execArgv.join(" "),n=u.indexOf("--inspect")!==-1,d=u.indexOf("--debug-brk")!==-1,y=[];return n&&(y.push("--inspect="+s.debugPort),d&&y.push("--debug-brk")),process.execArgv.forEach(function(T){console.log("Executing FunctionExpression from file CompiledWorker.js at line 966"),T.indexOf("--max-old-space-size")>-1&&y.push(T)}),Object.assign({},s,{forkArgs:s.forkArgs,forkOpts:Object.assign({},s.forkOpts,{execArgv:(s.forkOpts&&s.forkOpts.execArgv||[]).concat(y)})})}function D(s){console.log("Executing FunctionDeclaration objectToError from file CompiledWorker.js at line 985");for(var u=new Error(""),n=Object.keys(s),d=0;d<n.length;d++)u[n[d]]=s[n[d]];return u}function O(s,u){console.log("Executing FunctionDeclaration WorkerHandler from file CompiledWorker.js at line 1005");var n=this,d=u||{};this.script=s||c(),this.worker=a(this.script,d),this.debugPort=d.debugPort,this.forkOpts=d.forkOpts,this.forkArgs=d.forkArgs,s||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("message",function(E){if(console.log("Executing FunctionExpression from file CompiledWorker.js at line 1020"),!n.terminated)if(typeof E=="string"&&E==="ready")n.worker.ready=!0,T();else{var F=E.id,j=n.processing[F];j!==void 0&&(E.isEvent?j.options&&typeof j.options.on=="function"&&j.options.on(E.payload):(delete n.processing[F],n.terminating===!0&&n.terminate(),E.error?j.resolver.reject(D(E.error)):j.resolver.resolve(E.result)))}});function y(E){console.log("Executing FunctionDeclaration onError from file CompiledWorker.js at line 1058"),n.terminated=!0;for(var F in n.processing)n.processing[F]!==void 0&&n.processing[F].resolver.reject(E);n.processing=Object.create(null)}function T(){console.log("Executing FunctionDeclaration dispatchQueuedRequests from file CompiledWorker.js at line 1071");var E=l(n.requestQueue.splice(0)),F;try{for(E.s();!(F=E.n()).done;){var j=F.value;n.worker.send(j)}}catch(S){E.e(S)}finally{E.f()}}var A=this.worker;this.worker.on("error",y),this.worker.on("exit",function(E,F){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1090");var j=`Workerpool Worker terminated Unexpectedly
`;j+="    exitCode: `"+E+"`\n",j+="    signalCode: `"+F+"`\n",j+="    workerpool.script: `"+n.script+"`\n",j+="    spawnArgs: `"+A.spawnargs+"`\n",j+="    spawnfile: `"+A.spawnfile+"`\n",j+="    stdout: `"+A.stdout+"`\n",j+="    stderr: `"+A.stderr+"`\n",y(new Error(j))}),this.processing=Object.create(null),this.terminating=!1,this.terminated=!1,this.terminationHandler=null,this.lastId=0}O.prototype.methods=function(){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 1114"),this.exec("methods")},O.prototype.exec=function(s,u,n,d){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1127"),n||(n=f.defer());var y=++this.lastId;this.processing[y]={id:y,resolver:n,options:d};var T={id:y,method:s,params:u};this.terminated?n.reject(new Error("Worker is terminated")):this.worker.ready?this.worker.send(T):this.requestQueue.push(T);var A=this;return n.promise.catch(function(E){if(console.log("Executing FunctionExpression from file CompiledWorker.js at line 1158"),E instanceof f.CancellationError||E instanceof f.TimeoutError)return delete A.processing[y],A.terminateAndNotify(!0).then(function(){throw console.log("Executing FunctionExpression from file CompiledWorker.js at line 1164"),E},function(F){throw console.log("Executing FunctionExpression from file CompiledWorker.js at line 1166"),F});throw E})},O.prototype.busy=function(){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 1180"),Object.keys(this.processing).length>0},O.prototype.terminate=function(s,u){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1193");var n=this;if(s){for(var d in this.processing)this.processing[d]!==void 0&&this.processing[d].resolver.reject(new Error("Worker terminated"));this.processing=Object.create(null)}if(typeof u=="function"&&(this.terminationHandler=u),this.busy())this.terminating=!0;else{var y=function(E){if(console.log("Executing FunctionExpression cleanup from file CompiledWorker.js at line 1213"),n.terminated=!0,n.worker!=null&&n.worker.removeAllListeners&&n.worker.removeAllListeners("message"),n.worker=null,n.terminating=!1,n.terminationHandler)n.terminationHandler(E,n);else if(E)throw E};if(this.worker)if(typeof this.worker.kill=="function"){if(this.worker.killed){y(new Error("worker already killed!"));return}if(this.worker.isChildProcess){var T=setTimeout(function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1239"),n.worker&&n.worker.kill()},C);this.worker.once("exit",function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1244"),clearTimeout(T),n.worker&&(n.worker.killed=!0),y()}),this.worker.ready?this.worker.send(_):this.requestQueue.push(_)}else this.worker.kill(),this.worker.killed=!0,y();return}else if(typeof this.worker.terminate=="function")this.worker.terminate(),this.worker.killed=!0;else throw new Error("Failed to terminate worker");y()}},O.prototype.terminateAndNotify=function(s,u){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1294");var n=f.defer();return u&&(n.promise.timeout=u),this.terminate(s,function(d,y){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1301"),d?n.reject(d):n.resolve(y)}),n.promise},e.exports=O,e.exports._tryRequireWorkerThreads=i,e.exports._setupProcessWorker=v,e.exports._setupBrowserWorker=w,e.exports._setupWorkerThreadWorker=x,e.exports.ensureWorkerThreads=W},833:function(e){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1321");var o=65535;e.exports=r;function r(){console.log("Executing FunctionDeclaration DebugPortAllocator from file CompiledWorker.js at line 1329"),this.ports=Object.create(null),this.length=0}r.prototype.nextAvailableStartingAt=function(l){for(console.log("Executing FunctionExpression from file CompiledWorker.js at line 1334");this.ports[l]===!0;)l++;if(l>=o)throw new Error("WorkerPool debug port limit reached: "+l+">= "+o);return this.ports[l]=!0,this.length++,l},r.prototype.releasePort=function(l){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1348"),delete this.ports[l],this.length--}},828:function(e,o,r){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1356");var l=r(397),g=function(p){return console.log("Executing FunctionExpression isNode from file CompiledWorker.js at line 1361"),typeof p<"u"&&p.versions!=null&&p.versions.node!=null};e.exports.isNode=g,e.exports.platform=typeof process<"u"&&g(process)?"node":"browser";var m=k("worker_threads");e.exports.isMainThread=e.exports.platform==="node"?(!m||m.isMainThread)&&!process.connected:typeof Window<"u",e.exports.cpus=e.exports.platform==="browser"?self.navigator.hardwareConcurrency:l("os").cpus().length;function k(f){console.log("Executing FunctionDeclaration tryRequireFoolWebpack from file CompiledWorker.js at line 1375");try{return l(f)}catch{return null}}},670:function(e){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1386"),e.exports=`!function(){var __webpack_exports__={};!function(){var exports=__webpack_exports__,__webpack_unused_export__;function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var requireFoolWebpack=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \\" + module + \\" not found.') }"),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}},WorkerThreads,parentPort;if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(r,e){addEventListener(r,function(r){e(r.data)})},worker.send=function(r){postMessage(r)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(error){if("object"!==_typeof(error)||null===error||"MODULE_NOT_FOUND"!==error.code)throw error}WorkerThreads&&null!==WorkerThreads.parentPort?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)):(worker.on=process.on.bind(process),worker.send=process.send.bind(process),worker.on("disconnect",function(){process.exit(1)}),worker.exit=process.exit.bind(process))}function convertError(o){return Object.getOwnPropertyNames(o).reduce(function(r,e){return Object.defineProperty(r,e,{value:o[e],enumerable:!0})},{})}function isPromise(r){return r&&"function"==typeof r.then&&"function"==typeof r.catch}worker.methods={},worker.methods.run=function(r,e){r=new Function("return ("+r+").apply(null, arguments);");return r.apply(r,e)},worker.methods.methods=function(){return Object.keys(worker.methods)};var currentRequestId=null;worker.on("message",function(e){if(e===TERMINATE_METHOD_ID)return worker.exit(0);try{var r=worker.methods[e.method];if(!r)throw new Error('Unknown method "'+e.method+'"');currentRequestId=e.id;var o=r.apply(r,e.params);isPromise(o)?o.then(function(r){worker.send({id:e.id,result:r,error:null}),currentRequestId=null}).catch(function(r){worker.send({id:e.id,result:null,error:convertError(r)}),currentRequestId=null}):(worker.send({id:e.id,result:o,error:null}),currentRequestId=null)}catch(r){worker.send({id:e.id,result:null,error:convertError(r)})}}),worker.register=function(r){if(r)for(var e in r)r.hasOwnProperty(e)&&(worker.methods[e]=r[e]);worker.send("ready")},worker.emit=function(r){currentRequestId&&worker.send({id:currentRequestId,isEvent:!0,payload:r})},__webpack_unused_export__=worker.register,worker.emit}()}();`},397:function(module){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1398");var requireFoolWebpack=eval(`typeof require !== 'undefined' ? require : function (module) { throw new Error('Module " + module + " not found.') }`);module.exports=requireFoolWebpack},744:function(__unused_webpack_module,exports){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1407");function _typeof(e){return console.log("Executing FunctionDeclaration _typeof from file CompiledWorker.js at line 1409"),_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 1409"),typeof o}:function(o){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 1409"),o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(e)}var requireFoolWebpack=eval(`typeof require !== 'undefined' ? require : function (module) { throw new Error('Module " + module + " not found.') }`),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function e(){console.log("Executing FunctionExpression exit from file CompiledWorker.js at line 1427")}};if(typeof self<"u"&&typeof postMessage=="function"&&typeof addEventListener=="function")worker.on=function(e,o){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1432"),addEventListener(e,function(r){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1433"),o(r.data)})},worker.send=function(e){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1438"),postMessage(e)};else if(typeof process<"u"){var WorkerThreads;try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(e){if(!(_typeof(e)==="object"&&e!==null&&e.code==="MODULE_NOT_FOUND"))throw e}if(WorkerThreads&&WorkerThreads.parentPort!==null){var parentPort=WorkerThreads.parentPort;worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)}else worker.on=process.on.bind(process),worker.send=process.send.bind(process),worker.on("disconnect",function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1464"),process.exit(1)}),worker.exit=process.exit.bind(process)}else throw new Error("Script must be executed as a worker");function convertError(e){return console.log("Executing FunctionDeclaration convertError from file CompiledWorker.js at line 1473"),Object.getOwnPropertyNames(e).reduce(function(o,r){return console.log("Executing FunctionExpression from file CompiledWorker.js at line 1474"),Object.defineProperty(o,r,{value:e[r],enumerable:!0})},{})}function isPromise(e){return console.log("Executing FunctionDeclaration isPromise from file CompiledWorker.js at line 1489"),e&&typeof e.then=="function"&&typeof e.catch=="function"}worker.methods={},worker.methods.run=function e(o,r){console.log("Executing FunctionExpression run from file CompiledWorker.js at line 1502");var l=new Function("return ("+o+").apply(null, arguments);");return l.apply(l,r)},worker.methods.methods=function e(){return console.log("Executing FunctionExpression methods from file CompiledWorker.js at line 1512"),Object.keys(worker.methods)};var currentRequestId=null;worker.on("message",function(e){if(console.log("Executing FunctionExpression from file CompiledWorker.js at line 1517"),e===TERMINATE_METHOD_ID)return worker.exit(0);try{var o=worker.methods[e.method];if(o){currentRequestId=e.id;var r=o.apply(o,e.params);isPromise(r)?r.then(function(l){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1532"),worker.send({id:e.id,result:l,error:null}),currentRequestId=null}).catch(function(l){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1539"),worker.send({id:e.id,result:null,error:convertError(l)}),currentRequestId=null}):(worker.send({id:e.id,result:r,error:null}),currentRequestId=null)}else throw new Error('Unknown method "'+e.method+'"')}catch(l){worker.send({id:e.id,result:null,error:convertError(l)})}}),worker.register=function(e){if(console.log("Executing FunctionExpression from file CompiledWorker.js at line 1572"),e)for(var o in e)e.hasOwnProperty(o)&&(worker.methods[o]=e[o]);worker.send("ready")},worker.emit=function(e){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1584"),currentRequestId&&worker.send({id:currentRequestId,isEvent:!0,payload:e})},exports.add=worker.register,exports.emit=worker.emit}},__webpack_module_cache__={};function __webpack_require__(e){console.log("Executing FunctionDeclaration __webpack_require__ from file CompiledWorker.js at line 1607");var o=__webpack_module_cache__[e];if(o!==void 0)return o.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}var __webpack_exports__={};return function(){console.log("Executing FunctionExpression from file CompiledWorker.js at line 1630");var e=__webpack_exports__,o=__webpack_require__(828);e.pool=function(l,g){console.log("Executing FunctionExpression pool from file CompiledWorker.js at line 1641");var m=__webpack_require__(345);return new m(l,g)},e.worker=function(l){console.log("Executing FunctionExpression worker from file CompiledWorker.js at line 1652");var g=__webpack_require__(744);g.add(l)},e.workerEmit=function(l){console.log("Executing FunctionExpression workerEmit from file CompiledWorker.js at line 1663");var g=__webpack_require__(744);g.emit(l)},e.Promise=__webpack_require__(219),e.platform=o.platform,e.isMainThread=o.isMainThread,e.cpus=o.cpus}(),__webpack_exports__}()});const easings=[function e(o,r=.65){console.log("Executing FunctionExpression easeInOutElastic from file CompiledWorker.js at line 1686");const l=1-r;if(o===0||o===1)return o;const g=o*2,m=g-1,k=l/(2*Math.PI)*Math.asin(1);return g<1?-.5*(Math.pow(2,10*m)*Math.sin((m-k)*(2*Math.PI)/l)):Math.pow(2,-10*m)*Math.sin((m-k)*(2*Math.PI)/l)*.5+1},function e(o){console.log("Executing FunctionExpression easeOutBounce from file CompiledWorker.js at line 1714");const r=o/1;if(r<1/2.75)return 7.5625*r*r;if(r<2/2.75){const l=r-.5454545454545454;return 7.5625*l*l+.75}else if(r<2.5/2.75){const l=r-.8181818181818182;return 7.5625*l*l+.9375}else{const l=r-.9545454545454546;return 7.5625*l*l+.984375}},function e(o){console.log("Executing FunctionExpression easeOutCubic from file CompiledWorker.js at line 1732");const r=o-1;return r*r*r+1},function e(o,r=1.70158){console.log("Executing FunctionExpression easeOutBack from file CompiledWorker.js at line 1738");const l=o/1-1;return l*l*((r+1)*l+r)+1}];function ease(e,...o){return console.log("Executing FunctionDeclaration ease from file CompiledWorker.js at line 1747"),easings[e](...o)}function easeOutBounce(e){console.log("Executing FunctionDeclaration easeOutBounce from file CompiledWorker.js at line 1752");const o=e/1;if(o<1/2.75)return 7.5625*o*o;if(o<2/2.75){const r=o-.5454545454545454;return 7.5625*r*r+.75}else if(o<2.5/2.75){const r=o-.8181818181818182;return 7.5625*r*r+.9375}else{const r=o-.9545454545454546;return 7.5625*r*r+.984375}}function easeInBounce(e){return console.log("Executing FunctionDeclaration easeInBounce from file CompiledWorker.js at line 1770"),1-easeOutBounce(1-e)}const DEFAULT_DISPLACEMENT=20;let desiredPoints,iterations,actualPoints,base,powerOf2Plus1;function getRandom(e,o){return console.log("Executing FunctionDeclaration getRandom from file CompiledWorker.js at line 1776"),Math.random()*(o-e)+e}function getEasingStep(e){console.log("Executing FunctionDeclaration getEasingStep from file CompiledWorker.js at line 1779");const o=1/iterations;return e*o}function setupAlgorithm(){console.log("Executing FunctionDeclaration setupAlgorithm from file CompiledWorker.js at line 1783"),iterations=Math.floor(Math.log(desiredPoints*2-1)/Math.log(2)),powerOf2Plus1=2**iterations+1,actualPoints=desiredPoints+(desiredPoints%2?1:0)}function setTotalSamples(e){console.log("Executing FunctionDeclaration setTotalSamples from file CompiledWorker.js at line 1788"),e!==desiredPoints&&(desiredPoints=e,setupAlgorithm())}function generateDataSeries(e,o=getRandom(0,50),r=getRandom(50,100),l=1,g=null,m=.5,k,f,p){console.log("Executing FunctionDeclaration generateDataSeries from file CompiledWorker.js at line 1796"),f=typeof f<"u"?f:getRandom(o,r),p=typeof p<"u"?p:getRandom(o,r),typeof e=="number"&&setTotalSamples(e);let h=g=="function"&&g(f,p)||typeof g=="number"&&g||(f+p)/2||f-p||DEFAULT_DISPLACEMENT,_=h;const C=!!easings[k];let W=1;const t=new Array(actualPoints).fill(0);for(t[0]=f;W<=iterations;){const i=~~(powerOf2Plus1/2**W),c=2**W-1;for(let a=i;a<=c*i&&!(a>actualPoints-1);a+=i*2){const w=t[a-i];let x=t[a+i];typeof x>"u"&&(x=p);let v=(w+x)/2;const b=Math.random()<m;t[a]=b?Math.min(r,v+h):Math.max(o,v-h),f===p&&W===1&&(t[a]=v)}C?h=(1-ease(k,getEasingStep(W)))*_:h=h*2**-l,W++}return{data:t,dataMin:o,dataMax:r}}function punchHolesInArray(e,o){console.log("Executing FunctionDeclaration punchHolesInArray from file CompiledWorker.js at line 1873");const r=30,l=10,g=(r-l)/100*e.length,m=(r+l)/100*e.length,k=10,f=k/100*e.length,p=20,_=(100-r)/(r/k)/100*e.length*.9,C=()=>(console.log("Executing ArrowFunctionExpression from file CompiledWorker.js at line 1887"),Math.round(getRandom(f-p/100*f,f+p/100*f))),W=()=>(console.log("Executing ArrowFunctionExpression from file CompiledWorker.js at line 1895"),Math.round(getRandom(_-p/100*_,_+p/100*_)));let t=!0;const i=Math.round(getRandom(g,m));let c=0,a=0;for(;c<i&&a<=e.length;){if(t){const w=W(),x=a+w>e.length?e.length-a:w;a=a+x,t=!1}else{const w=C();let x=Math.min(a+w>e.length?e.length-a:w,i-c);if(typeof o>"u"){const v=e[a-1],D=(e[a+x+1]-v)/x;e.splice(a,x,...[...new Array(x)].map((O,s)=>(console.log("Executing ArrowFunctionExpression from file CompiledWorker.js at line 1931"),v+D*s)))}else e.splice(a,x,...new Array(x).fill(NaN));c+=x,a+=x,t=!0}if(c>=e.length||a>=e.length)break}return e}function generatePunchedDataSeries(...e){console.log("Executing FunctionDeclaration generatePunchedDataSeries from file CompiledWorker.js at line 1957");const{data:o,dataMin:r,dataMax:l}=generateDataSeries(...e);return{data:punchHolesInArray(o),dataMin:r,dataMax:l}}function limitArray(e,o,r,l=1){return console.log("Executing FunctionDeclaration limitArray from file CompiledWorker.js at line 1974"),o=1/0,r=-1/0,{data:e.map(g=>(console.log("Executing ArrowFunctionExpression from file CompiledWorker.js at line 1979"),o=Math.min(o,g),r=Math.max(r,g),g*(1-l))),dataMin:o,dataMax:r}}const DATA_GENERATOR_TASKS={generateDataSeries:"generateDataSeries",generatePunchedDataSeries:"generatePunchedDataSeries",limitArray:"limitArray",setTotalSamples:"setTotalSamples"};function getDataTaskConfig(e,o){return console.log("Executing FunctionDeclaration getDataTaskConfig from file CompiledWorker.js at line 1995"),{name:DATA_GENERATOR_TASKS.generateDataSeries,data:{channel:e,samples:o}}}function getPunchedDataTaskConfig(e,o){return console.log("Executing FunctionDeclaration getPunchedDataTaskConfig from file CompiledWorker.js at line 2005"),{name:DATA_GENERATOR_TASKS.generatePunchedDataSeries,data:{channel:e,samples:o}}}function getLimitArrayTaskConfig(e,o,r){return console.log("Executing FunctionDeclaration getLimitArrayTaskConfig from file CompiledWorker.js at line 2015"),{name:DATA_GENERATOR_TASKS.limitArray,data:{channel:e,channelData:o,limitFactor:r}}}workerpool.worker({[DATA_GENERATOR_TASKS.generateDataSeries]:e=>(console.log("Executing ArrowFunctionExpression from file CompiledWorker.js at line 2030"),generateDataSeries(e.samples,e.channel.dataMin,e.channel.dataMax,e.channel.smoothing,e.channel.displacement,e.channel.displacementRatio,e.channel.easingType,e.channel.start,e.channel.end)),[DATA_GENERATOR_TASKS.generatePunchedDataSeries]:e=>(console.log("Executing ArrowFunctionExpression from file CompiledWorker.js at line 2043"),generatePunchedDataSeries(e.samples,e.channel.dataMin,e.channel.dataMax,e.channel.smoothing,e.channel.displacement,e.channel.displacementRatio,e.channel.easingType,e.channel.start,e.channel.end)),[DATA_GENERATOR_TASKS.setTotalSamples]:e=>{console.log("Executing ArrowFunctionExpression from file CompiledWorker.js at line 2056"),setTotalSamples(e.samples)},[DATA_GENERATOR_TASKS.limitArray]:e=>(console.log("Executing ArrowFunctionExpression from file CompiledWorker.js at line 2059"),limitArray(e.channelData,e.dataMin,e.dataMax,e.limitFactor))});
